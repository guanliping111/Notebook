## OSI七层协议

```
应用层：文件传输，常用协议HTTP，snmp, FTP ,
表示层：数据格式化，代码转换，数据加密，
会话层：建立，解除会话
传输层：提供端对端的接口，TCP, UDP
网络层：为数据包选择路由，IP，icmp
数据链路层：传输有地址的帧
物理层：二进制的数据形式在物理媒体上传输数据
```

**传输层**：重要作用,就是指定通信端口。服务器指定用什么协议。如80端口，就是想用HTTP协议

**具有代表性的协议： `TCP` 与 `UDP`**：

1. TCP: 提供可靠的通信传输，确认目标能通信的情况下才会传输数据(因此需要三次握手)。传输过程数据丢失会重发。

   TCP提供了一种可靠、面向连接、字节流、传输层的服务，采用三次握手建立一个连接。采用4次挥手来关闭一个连接。

   "连接"：在发送数据前，通信双方会建立一条连接，客户端和服务端的内存里保存的一份关于对方的信息，(如 IP地址、端口号)

2. UDP: 不可靠传输。不会确认目标能否通信，只会根据协议发送到对方的端口。不管数据对方是否收到或者丢失。


作比喻的话，可以将传输层看作是快递公司的跟单员。负责任的跟单员（使用 `TCP` 协议）会保证快递送到客户手上，如果送不到就让公司再发一次。不负责任的跟单员（使用 `UDP` 协议）层只管将快递送到客户指定的地方，不管快递是否送到客户手上。

对比：

|              | UDP                                        | TCP                                    |
| ------------ | ------------------------------------------ | -------------------------------------- |
| 是否连接     | 无连接                                     | 面向连接                               |
| 是否可靠     | 不可靠传输，不使用流量控制和拥塞控制       | 可靠传输，使用流量控制和拥塞控制       |
| 连接对象个数 | 支持一对一，一对多，多对一和多对多交互通信 | 只能是一对一通信                       |
| 传输方式     | 面向报文                                   | 面向字节流                             |
| 首部开销     | 首部开销小，仅8字节                        | 首部最小20字节，最大60字节             |
| 适用场景     | 适用于实时应用（IP电话、视频会议、直播等） | 适用于要求可靠传输的应用，例如文件传输 |